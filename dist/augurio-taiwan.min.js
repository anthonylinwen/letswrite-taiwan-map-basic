"use strict";function asyncGeneratorStep(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){asyncGeneratorStep(i,r,a,o,c,"next",e)}function c(e){asyncGeneratorStep(i,r,a,o,c,"throw",e)}o(void 0)})}}var TaiwanMap=new Vue({el:"#app",data:{h1:"縣市中文",h2:"縣市英文"},methods:{getTaiwanMap:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r,a,i,o=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$refs.map.offsetWidth.toFixed(),n=this.$refs.map.offsetHeight.toFixed(),r=window.screen.width>1366?11e3:window.screen.width<=1366&&window.screen.width>480?9e3:6e3,e.next=4,d3.geo.path().projection(d3.geo.mercator().center([121,24]).scale(r).translate([t/2,n/2.5]));case 4:return a=e.sent,e.next=7,d3.select("#svg").attr("width",t).attr("height",n).attr("viewBox","0 0 ".concat(t," ").concat(n)).attr("preserveAspectRatio","xMidYMid meet");case 7:return i=e.sent,"dist/taiwan.geojson",e.next=11,d3.json("dist/taiwan.geojson",function(e,t){if(e)throw e;i.selectAll("path").data(t.features).enter().append("path").attr("d",a).attr({fill:"#000",id:function(e){return"city"+e.properties.COUNTYCODE},ch:function(e){return e.properties.COUNTYNAME},en:function(e){return e.properties.COUNTYENG}}).on("click",function(e){o.h1=e.properties.COUNTYNAME,o.h2=e.properties.COUNTYENG,document.querySelector(".active")&&document.querySelector(".active").classList.remove("active"),document.getElementById("city"+e.properties.COUNTYCODE).classList.add("active")})});case 11:return e.abrupt("return",i);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},mounted:function(){this.getTaiwanMap()}});